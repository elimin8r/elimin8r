!function(){let e=1,t=!1;const n=async()=>{if(t)return;console.log("infinite scroll","Fetching next page...");const n=await fetch(elimin8r.url+"/wp-json/wp/v2/ifs/"+elimin8r.post_type+"?page="+(e+1)+"&per_page="+elimin8r.posts_per_page);if(e++,!n.ok)return void(t=!0);const o=await n.json();if(0===o.length){t=!0;const e=document.querySelector("#load-more");return void(e&&(e.textContent="No more posts"))}const c=document.querySelector(".blog-content"),l=document.createElement("div");l.classList.add("loading-spinner"),c.appendChild(l),i(o)},o=()=>{const e=document.querySelector("#load-more");e&&e.addEventListener("click",n)};o();const i=t=>{const n=document.querySelector("#load-more");n&&n.remove(),document.title=document.title+" - Page "+e,document.title=document.title.replace(" - Page "+(e-1),"");const i=t,c=document.querySelector(".blog-content"),l=c.querySelector("article.hentry");let s="";l&&(l.classList.contains("blog-compact")?s="blog-compact":l.classList.contains("blog-full")?s="blog-full":l.classList.contains("blog-grid")&&(s="blog-grid"));const a=c.querySelector(".loading-spinner");a&&a.remove(),i.forEach((e=>{const t=document.createElement("article");t.classList.add("post"),t.classList.add("ifs-post"),t.classList.add(s);const n=e.thumbnail?e.thumbnail:"/wp-content/themes/elimin8r/dist/images/placeholder-image.svg",o=` <a href="${e.permalink}">Continue reading</a>`;e.excerpt="blog-compact"===s?e.excerpt.split(" ").slice(0,35).join(" ")+o:e.excerpt.split(" ").slice(0,55).join(" ")+o,t.innerHTML=`\n                                <a href="${e.permalink}" title="${e.title}">\n                                    <figure class="post-thumbnail">\n                                        <img width="300" height="200" src="${n}" class="attachment-medium size-medium wp-post-image" alt="" decoding="async">\n                                    </figure>\n                                </a>\n\n                                <div class="article-content">\n                                    <header class="entry-header">\n                                        <h2 class="entry-title"><a href="${e.permalink}" rel="bookmark">${e.title}</a></h2>\n                                    </header>\n\n                                    <div class="entry-content">\n                                        ${e.excerpt}\n                                    </div>\n                                </div>\n                            `,c.appendChild(t)}));const r=document.createElement("button");r.id="load-more",r.textContent="Load more",c.appendChild(r),o()}}();