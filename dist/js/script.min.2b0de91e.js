!function(){let e=1,t=!1;const n=async()=>{if(t)return;console.log("infinite scroll","Fetching next page...");const n=await fetch(elimin8r.url+"/wp-json/wp/v2/ifs/"+elimin8r.post_type+"?page="+(e+1)+"&per_page="+elimin8r.posts_per_page);if(e++,!n.ok)return void(t=!0);const a=await n.json();if(0===a.length){t=!0;const e=document.querySelector("#load-more");return void(e&&(e.textContent="No more posts"))}const o=document.querySelector(".blog-content"),i=document.createElement("div");i.classList.add("loading-spinner"),o.appendChild(i),s(a)},a=()=>{const e=document.querySelector("#load-more");e&&e.addEventListener("click",n)};a();const s=t=>{const n=document.querySelector("#load-more");n&&n.remove(),document.title=document.title+" - Page "+e,document.title=document.title.replace(" - Page "+(e-1),"");const s=t,o=document.querySelector(".blog-content"),i=o.querySelector("article.hentry");let c="";i&&(i.classList.contains("blog-compact")?c="blog-compact":i.classList.contains("blog-full")?c="blog-full":i.classList.contains("blog-grid")&&(c="blog-grid"));const l=o.querySelector(".loading-spinner");l&&l.remove(),s.forEach((e=>{const t=document.createElement("article");t.classList.add("post"),t.classList.add("ifs-post"),t.classList.add(c);const n=e.thumbnail?e.thumbnail:"/wp-content/themes/elimin8r/dist/images/placeholder-image.svg",a=` <a href="${e.permalink}">Continue reading</a>`;e.excerpt="blog-compact"===c?e.excerpt.split(" ").slice(0,35).join(" ")+a:e.excerpt.split(" ").slice(0,55).join(" ")+a,t.innerHTML=`\n                                <a href="${e.permalink}" title="${e.title}">\n                                    <figure class="post-thumbnail">\n                                        <img width="300" height="200" src="${n}" class="attachment-medium size-medium wp-post-image" alt="" decoding="async">\n                                    </figure>\n                                </a>\n\n                                <div class="article-content">\n                                    <header class="entry-header">\n                                        <h2 class="entry-title"><a href="${e.permalink}" rel="bookmark">${e.title}</a></h2>\n                                    </header>\n\n                                    <div class="entry-content">\n                                        ${e.excerpt}\n                                    </div>\n                                </div>\n                            `,o.appendChild(t)}));const r=document.createElement("button");r.id="load-more",r.textContent="Load more",o.appendChild(r),a()}}(),function(){const e=document.getElementById("site-navigation");if(!e)return;const t=e.getElementsByTagName("button")[0];if(void 0===t)return;const n=e.getElementsByTagName("ul")[0];if(void 0===n)return void(t.style.display="none");n.classList.contains("nav-menu")||n.classList.add("nav-menu"),t.addEventListener("click",(function(){e.classList.toggle("toggled"),"true"===t.getAttribute("aria-expanded")?t.setAttribute("aria-expanded","false"):t.setAttribute("aria-expanded","true")})),document.addEventListener("click",(function(n){e.contains(n.target)||(e.classList.remove("toggled"),t.setAttribute("aria-expanded","false"))}));const a=n.getElementsByTagName("a"),s=n.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");for(const e of a)e.addEventListener("focus",o,!0),e.addEventListener("blur",o,!0);for(const e of s)e.addEventListener("touchstart",o,!1,{passive:!0});function o(){if("focus"===event.type||"blur"===event.type){let e=this;for(;!e.classList.contains("nav-menu");)"li"===e.tagName.toLowerCase()&&e.classList.toggle("focus"),e=e.parentNode}if("touchstart"===event.type){const e=this.parentNode;event.preventDefault();for(const t of e.parentNode.children)e!==t&&t.classList.remove("focus");e.classList.toggle("focus")}}}();const search_icon=document.querySelector(".site-header .search-toggle"),search_bar=document.querySelector(".site-header .search-field"),search_field=document.querySelector(".site-header .search-field");search_icon.onclick=()=>{search_field.classList.toggle("search-active"),search_field.classList.contains("search-active")&&search_field.focus()},window.onload=()=>{search_field.value=""};const input=document.querySelector(".search-field");input&&input.addEventListener("keyup",(()=>gameSearch(input)));const gameSearch=async e=>{const t=window.location.origin,n=await fetch(t+"/wp-json/wp/v2/search/?search="+e.value),a=await n.json();displayResults(e,a)},displayResults=(e,t)=>{if(!e.parentElement.querySelector(".search-autocomplete")){let t=document.createElement("ul");t.classList.add("search-autocomplete"),e.parentElement.appendChild(t);let n=e.offsetHeight;t.style.top=n+"px"}const n=e.parentElement.querySelector(".search-autocomplete");if(n.innerHTML="",n.style.display="block",0===t.length){let e=document.createElement("li");e.innerHTML="No results found",n.appendChild(e)}else for(let a=0;a<t.length;a++)if(e.value.length>0){let e=document.createElement("li"),s=document.createElement("a");s.innerHTML+=t[a].title,s.href=t[a].url,e.appendChild(s),n.appendChild(e)}else n.style.display="none",n.innerHTML=""};