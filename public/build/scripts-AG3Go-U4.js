(function(){const e=document.getElementById("site-navigation");if(!e)return;const n=e.getElementsByTagName("button")[0];if(typeof n>"u")return;const s=e.getElementsByTagName("ul")[0];if(typeof s>"u"){n.style.display="none";return}s.classList.contains("nav-menu")||s.classList.add("nav-menu"),n.addEventListener("click",function(){e.classList.toggle("toggled"),n.getAttribute("aria-expanded")==="true"?n.setAttribute("aria-expanded","false"):n.setAttribute("aria-expanded","true")}),document.addEventListener("click",function(i){e.contains(i.target)||(e.classList.remove("toggled"),n.setAttribute("aria-expanded","false"))});const t=s.getElementsByTagName("a"),a=s.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");for(const i of t)i.addEventListener("focus",l,!0),i.addEventListener("blur",l,!0);for(const i of a)i.addEventListener("touchstart",l,!1,{passive:!0}),i.addEventListener("click",l);function l(i){if(i.type==="touchstart"||i.type==="click"){const c=this.parentNode;i.preventDefault();for(const u of c.parentNode.children)c!==u&&u.classList.remove("focus");c.classList.toggle("focus")}}})();const h=document.querySelector(".site-header .search-toggle");document.querySelector(".site-header .search-field");const o=document.querySelector(".site-header .search-field");h.onclick=()=>{o.classList.toggle("search-active"),o.classList.contains("search-active")&&o.focus()};window.onload=()=>{o.value=""};const r=document.querySelector(".search-field");r&&r.addEventListener("keyup",()=>f(r));const d=document.querySelector(".wp-block-search__input");d&&d.addEventListener("keyup",()=>f(d));const f=async e=>{const n=window.location.origin,t=await(await fetch(n+"/wp-json/wp/v2/search/?search="+e.value)).json();m(e,t)},m=(e,n)=>{if(!e.parentElement.querySelector(".search-autocomplete")){let t=document.createElement("ul");t.classList.add("search-autocomplete"),e.parentElement.appendChild(t);let a=e.offsetHeight;t.style.top=a+"px"}const s=e.parentElement.querySelector(".search-autocomplete");if(s.innerHTML="",s.style.display="block",n.length===0){let t=document.createElement("li");t.innerHTML="No results found",s.appendChild(t)}else for(let t=0;t<n.length;t++)if(e.value.length>0){let a=document.createElement("li"),l=document.createElement("a");l.innerHTML+=n[t].title,l.href=n[t].url,a.appendChild(l),s.appendChild(a)}else s.style.display="none",s.innerHTML=""};
